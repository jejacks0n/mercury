/*!
The Plain region is a simplified single line HTML5 Content Editable region. It restricts paste, drag/drop, and only
provides the ability to do some common actions like bold, italics, and underline. This is a useful region for headings
 and other single line areas.

Dependencies:
  rangy/rangy-core - https://code.google.com/p/rangy/
  rangy/rangy-serializer
  rangy-cssclassapplier
*/
(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Mercury.PlainRegion=function(e){function n(){try{window.rangy.init()}catch(e){return this.notify(this.t("requires Rangy")),!1}n.__super__.constructor.apply(this,arguments),this.config("regions:plain:actions")||(this.actions=null)}return t(n,e),n.define("Mercury.PlainRegion","plain"),n.include(Mercury.Region.Modules.HtmlSelection),n.include(Mercury.Region.Modules.SelectionValue),n.include(Mercury.Region.Modules.ContentEditable),n.supported=document.designMode&&(!Mercury.support.msie||Mercury.support.msie>=10)&&window.rangy&&window.rangy.supported,n.prototype.events={keydown:"onKeyEvent",paste:"onPaste"},n.prototype.onDropItem=function(e){return e.preventDefault()},n.prototype.onPaste=function(e){return e.preventDefault()},n.prototype.onKeyEvent=function(e){if(e.keyCode>=37&&e.keyCode<=40)return;if(e.metaKey&&e.keyCode===90)return;if(e.keyCode===13)return e.preventDefault();if(e.metaKey)switch(e.keyCode){case 66:return e.preventDefault(),this.handleAction("bold");case 73:return e.preventDefault(),this.handleAction("italic");case 85:return e.preventDefault(),this.handleAction("underline")}return this.pushHistory(e.keyCode)},n.prototype.actions={bold:function(){return this.toggleWrapSelectedWordsInClass("red")},italic:function(){return this.toggleWrapSelectedWordsInClass("highlight")},underline:function(){return this.toggleWrapSelectedWordsInClass("blue")}},n}(Mercury.Region)}).call(this);