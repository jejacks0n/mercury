<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>Mercury Editor - Annotated Source - mercury.js</title>
  <link href="/mercury/assets/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css"/>
  <script src="/mercury/assets/javascripts/application.js" type="text/javascript"></script>
  <!--[if lt IE 7]>
    <script type="text/javascript" src="/mercury/assets/javascripts/unitpngfix.js"></script>
  <![endif]-->
</head>
<body>

  <div id="background"></div>

  <h1 id="logo"><a href="/mercury">Mercury Editor</a></h1>

  <ul id="navigation">
    <li><a href="/mercury">Home</a></li>
    <li><a href="/mercury/downloads">Downloads</a></li>
    <li><a href="/mercury/walkthrough">Walkthrough</a></li>
    <li><a href="/mercury/documentation">Documentation</a></li>
    <li class="active"><a href="/mercury/annotated_source">Annotated Source</a></li>
  </ul>

  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>mercury.js</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-1'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-1">&#182;</a>
        </div>
        
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="cm">/*!</span>
<span class="cm"> * Mercury Editor is a Coffeescript and jQuery based WYSIWYG editor.  Documentation and other useful information can be</span>
<span class="cm"> * found at https://github.com/jejacks0n/mercury</span>
<span class="cm"> *</span>
<span class="cm"> * Supported browsers:</span>
<span class="cm"> *   - Firefox 4+</span>
<span class="cm"> *   - Chrome 10+</span>
<span class="cm"> *   - Safari 5+</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2011 Jeremy Jackson</span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated</span>
<span class="cm"> * documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the</span>
<span class="cm"> * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit</span>
<span class="cm"> * persons to whom the Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> *</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the</span>
<span class="cm"> * Software.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE</span>
<span class="cm"> * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR</span>
<span class="cm"> * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR</span>
<span class="cm"> * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> *</span>
<span class="cm"> *= require_self</span>
<span class="cm"> *= require mercury/mercury</span>
<span class="cm"> */</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">MercurySetup</span> <span class="o">=</span> <span class="p">{</span></pre></div>
      </td>
    </tr>
    <tr id='section-Mercury_Configuration'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Mercury_Configuration">&#182;</a>
        </div>
        <h1>Mercury Configuration</h1>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">config</span><span class="o">:</span> <span class="p">{</span></pre></div>
      </td>
    </tr>
    <tr id='section-Pasting_(in_Chrome/Safari)'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Pasting_(in_Chrome/Safari)">&#182;</a>
        </div>
        <h2>Pasting (in Chrome/Safari)</h2>

<p>When copying content using webkit, it embeds all the user defined styles (from the css files) into the html
style attributes directly.  When pasting this content into HTML5 contentEditable elements it leaves these
intact.  This can be a desired feature, or an annoyance, so you can enable it or disable it here.  Keep in mind
this will only change the behavior in webkit, as mozilla doesn&rsquo;t do this.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">cleanStylesOnPaste</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span></pre></div>
      </td>
    </tr>
    <tr id='section-Snippet_Options_and_Preview'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Snippet_Options_and_Preview">&#182;</a>
        </div>
        <h2>Snippet Options and Preview</h2>

<p>When a user drags a snippet onto the page they&rsquo;ll be prompted to enter options for the given snippet.  The server
is expected to respond with a form.  Once the user submits this form, an Ajax request is sent to the server with
the options provided; this preview request is expected to respond with the rendered markup for the snippet.</p>

<p>Name will be replaced with the snippet name (eg. example)</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">snippets</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
      <span class="nx">optionsUrl</span><span class="o">:</span> <span class="s1">&#39;/mercury/snippets/:name/options.html&#39;</span><span class="p">,</span>
      <span class="nx">previewUrl</span><span class="o">:</span> <span class="s1">&#39;/mercury/snippets/:name/preview.html&#39;</span>
    <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-Image_Uploading'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Image_Uploading">&#182;</a>
        </div>
        <h2>Image Uploading</h2>

<p>If you drag images (while pressing shift) from your desktop into regions that support it, it will be uploade
to the server and inserted into the region.  This configuration allows you to specify if you want to
disable/enable this feature, the accepted mime-types, file size restrictions, and other things related to
uploading.</p>

<p><strong>Note:</strong> Image uploading is only supported in some region types.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">uploading</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">allowedMimeTypes</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;image/jpeg&#39;</span><span class="p">,</span> <span class="s1">&#39;image/gif&#39;</span><span class="p">,</span> <span class="s1">&#39;image/png&#39;</span><span class="p">],</span>
      <span class="nx">maxFileSize</span><span class="o">:</span> <span class="mi">1235242880</span><span class="p">,</span>
      <span class="nx">inputName</span><span class="o">:</span> <span class="s1">&#39;image[image]&#39;</span><span class="p">,</span>
      <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/images&#39;</span>
      <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-Toolbars'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Toolbars">&#182;</a>
        </div>
        <h2>Toolbars</h2>

<p>This is where you can customize the toolbars by adding or removing buttons, or changing them and their
behaviors.  Any top level object put here will create a new toolbar.  Buttons are simply nested inside the
toolbars, along with button groups.</p>

<p>Some toolbars are custom (the snippetable toolbar for instance), and to denote that use _custom: true.  You can
then build the toolbar yourself with it&rsquo;s own behavior.</p>

<p>Buttons can be grouped, and a button group is simply a way to wrap buttons for styling &mdash; they can also handle
enabling or disabling all the buttons within it by using a context.  The table button group is a good example
of this.</p>

<p>It&rsquo;s important to note that each of the button names (keys), in each toolbar object must be unique, regardless
of if it&rsquo;s in a button group, or nested, etc.  This is because styling is applied to them by name, and because
their name is used in the event that&rsquo;s fired when you click on them.</p>

<p>Button format: <code>[label, description, {type: action, type: action, etc}]</code></p>

<h3>The available button types are:</h3>

<ul>
<li>toggle:  toggles on or off when clicked, otherwise behaves like a button</li>
<li>modal:   opens a modal window, expects the action to be one of:

<ol>
<li>a string url</li>
<li>a function that returns a string url</li>
</ol></li>
<li>panel:   opens a panel dialog, expects the action to be one of:

<ol>
<li>a string url</li>
<li>a function that returns a string url</li>
</ol></li>
<li>palette: opens a palette window, expects the action to be one of:

<ol>
<li>a string url</li>
<li>a function that returns a string url</li>
</ol></li>
<li>select:  opens a pulldown style window, expects the action to be one of:

<ol>
<li>a string url</li>
<li>a function that returns a string url</li>
</ol></li>
<li>context: calls a callback function, expects the action to be:

<ol>
<li>a function that returns a boolean to highlight the button
note: if a function isn&rsquo;t provided, the key will be passed to the contextHandler, in which case a default
context will be used (for more info read the Contexts section below)</li>
</ol></li>
<li>mode:    toggle a given mode in the editor, expects the action to be:

<ol>
<li>a string, denoting the name of the mode
note: it&rsquo;s assumed that when a specific mode is turned on, all other modes will be turned off, which happens
automatically, thus putting the editor into a specific &ldquo;state&rdquo;</li>
</ol></li>
<li>regions: allows buttons to be enabled/disabled based on what region type has focus, expects the action to be:

<ol>
<li>an array of region types (eg. [&lsquo;editable&rsquo;, &lsquo;markupable&rsquo;])</li>
</ol></li>
<li>preload: allows some dialog views to be loaded whtn the button is created instead of on first open, expects:

<ol>
<li>a boolean true / false
note: this is only used by panels, selects, and palettes</li>
</ol></li>
</ul>

<p>Separators are any &ldquo;button&rdquo; that&rsquo;s not an array, and are expected to be a string.  You can use two different
separator styles: line (&lsquo;&ndash;&rsquo;), and spacer (&lsquo; &rsquo;).</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">toolbars</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">primary</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">save</span><span class="o">:</span>                  <span class="p">[</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="s1">&#39;Save this page&#39;</span><span class="p">],</span>
        <span class="nx">preview</span><span class="o">:</span>               <span class="p">[</span><span class="s1">&#39;Preview&#39;</span><span class="p">,</span> <span class="s1">&#39;Preview this page&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">toggle</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">mode</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
        <span class="nx">sep1</span><span class="o">:</span>                  <span class="s1">&#39; &#39;</span><span class="p">,</span>
        <span class="nx">undoredo</span><span class="o">:</span>              <span class="p">{</span>
          <span class="nx">undo</span><span class="o">:</span>                <span class="p">[</span><span class="s1">&#39;Undo&#39;</span><span class="p">,</span> <span class="s1">&#39;Undo your last action&#39;</span><span class="p">],</span>
          <span class="nx">redo</span><span class="o">:</span>                <span class="p">[</span><span class="s1">&#39;Redo&#39;</span><span class="p">,</span> <span class="s1">&#39;Redo your last action&#39;</span><span class="p">],</span>
          <span class="nx">sep</span><span class="o">:</span>                 <span class="s1">&#39; &#39;</span>
          <span class="p">},</span>
        <span class="nx">insertLink</span><span class="o">:</span>            <span class="p">[</span><span class="s1">&#39;Link&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert Link&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">modal</span><span class="o">:</span> <span class="s1">&#39;/mercury/modals/link.html&#39;</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">,</span> <span class="s1">&#39;markupable&#39;</span><span class="p">]</span> <span class="p">}],</span>
        <span class="nx">insertMedia</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Media&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert Media (images and videos)&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">modal</span><span class="o">:</span> <span class="s1">&#39;/mercury/modals/media.html&#39;</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">,</span> <span class="s1">&#39;markupable&#39;</span><span class="p">]</span> <span class="p">}],</span>
        <span class="nx">insertTable</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Table&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert Table&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">modal</span><span class="o">:</span> <span class="s1">&#39;/mercury/modals/table.html&#39;</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">,</span> <span class="s1">&#39;markupable&#39;</span><span class="p">]</span> <span class="p">}],</span>
        <span class="nx">insertCharacter</span><span class="o">:</span>       <span class="p">[</span><span class="s1">&#39;Character&#39;</span><span class="p">,</span> <span class="s1">&#39;Special Characters&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">modal</span><span class="o">:</span> <span class="s1">&#39;/mercury/modals/character.html&#39;</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">,</span> <span class="s1">&#39;markupable&#39;</span><span class="p">]</span> <span class="p">}],</span>
        <span class="nx">snippetPanel</span><span class="o">:</span>          <span class="p">[</span><span class="s1">&#39;Snippet&#39;</span><span class="p">,</span> <span class="s1">&#39;Snippet Panel&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">panel</span><span class="o">:</span> <span class="s1">&#39;/mercury/panels/snippets.html&#39;</span> <span class="p">}],</span>
        <span class="nx">sep2</span><span class="o">:</span>                  <span class="s1">&#39; &#39;</span><span class="p">,</span>
        <span class="nx">historyPanel</span><span class="o">:</span>          <span class="p">[</span><span class="s1">&#39;History&#39;</span><span class="p">,</span> <span class="s1">&#39;Page Version History&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">panel</span><span class="o">:</span> <span class="s1">&#39;/mercury/panels/history.html&#39;</span> <span class="p">}],</span>
        <span class="nx">sep3</span><span class="o">:</span>                  <span class="s1">&#39; &#39;</span><span class="p">,</span>
        <span class="nx">notesPanel</span><span class="o">:</span>            <span class="p">[</span><span class="s1">&#39;Notes&#39;</span><span class="p">,</span> <span class="s1">&#39;Page Notes&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">panel</span><span class="o">:</span> <span class="s1">&#39;/mercury/panels/notes.html&#39;</span> <span class="p">}]</span>
        <span class="p">},</span>

      <span class="nx">editable</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">_regions</span><span class="o">:</span>              <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">,</span> <span class="s1">&#39;markupable&#39;</span><span class="p">],</span>
        <span class="nx">predefined</span><span class="o">:</span>            <span class="p">{</span>
          <span class="nx">style</span><span class="o">:</span>               <span class="p">[</span><span class="s1">&#39;Style&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">select</span><span class="o">:</span> <span class="s1">&#39;/mercury/selects/style.html&#39;</span><span class="p">,</span> <span class="nx">preload</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">sep1</span><span class="o">:</span>                <span class="s1">&#39; &#39;</span><span class="p">,</span>
          <span class="nx">formatblock</span><span class="o">:</span>         <span class="p">[</span><span class="s1">&#39;Block Format&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">select</span><span class="o">:</span> <span class="s1">&#39;/mercury/selects/formatblock.html&#39;</span><span class="p">,</span> <span class="nx">preload</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">sep2</span><span class="o">:</span>                <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">colors</span><span class="o">:</span>                <span class="p">{</span>
          <span class="nx">backColor</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Background Color&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">palette</span><span class="o">:</span> <span class="s1">&#39;/mercury/palettes/backcolor.html&#39;</span><span class="p">,</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">preload</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">sep1</span><span class="o">:</span>                <span class="s1">&#39; &#39;</span><span class="p">,</span>
          <span class="nx">foreColor</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Text Color&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">palette</span><span class="o">:</span> <span class="s1">&#39;/mercury/palettes/forecolor.html&#39;</span><span class="p">,</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">preload</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">sep2</span><span class="o">:</span>                <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">decoration</span><span class="o">:</span>            <span class="p">{</span>
          <span class="nx">bold</span><span class="o">:</span>                <span class="p">[</span><span class="s1">&#39;Bold&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">italic</span><span class="o">:</span>              <span class="p">[</span><span class="s1">&#39;Italicize&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">overline</span><span class="o">:</span>            <span class="p">[</span><span class="s1">&#39;Overline&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">strikethrough</span><span class="o">:</span>       <span class="p">[</span><span class="s1">&#39;Strikethrough&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">underline</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Underline&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">sep</span><span class="o">:</span>                 <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">script</span><span class="o">:</span>                <span class="p">{</span>
          <span class="nx">subscript</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Subscript&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">superscript</span><span class="o">:</span>         <span class="p">[</span><span class="s1">&#39;Superscript&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">sep</span><span class="o">:</span> <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">justify</span><span class="o">:</span>               <span class="p">{</span>
          <span class="nx">justifyLeft</span><span class="o">:</span>         <span class="p">[</span><span class="s1">&#39;Align Left&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">justifyCenter</span><span class="o">:</span>       <span class="p">[</span><span class="s1">&#39;Center&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">justifyRight</span><span class="o">:</span>        <span class="p">[</span><span class="s1">&#39;Align Right&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">justifyFull</span><span class="o">:</span>         <span class="p">[</span><span class="s1">&#39;Justify Full&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">sep</span><span class="o">:</span>                 <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">list</span><span class="o">:</span>                  <span class="p">{</span>
          <span class="nx">insertUnorderedList</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Unordered List&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">insertOrderedList</span><span class="o">:</span>   <span class="p">[</span><span class="s1">&#39;Numbered List&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span> <span class="nx">context</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}],</span>
          <span class="nx">sep</span><span class="o">:</span>                 <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">indent</span><span class="o">:</span>                <span class="p">{</span>
          <span class="nx">outdent</span><span class="o">:</span>             <span class="p">[</span><span class="s1">&#39;Decrease Indentation&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">],</span>
          <span class="nx">indent</span><span class="o">:</span>              <span class="p">[</span><span class="s1">&#39;Increase Indentation&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">],</span>
          <span class="nx">sep</span><span class="o">:</span>                 <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">table</span><span class="o">:</span>                 <span class="p">{</span>
          <span class="nx">_context</span><span class="o">:</span>            <span class="kc">true</span><span class="p">,</span>
          <span class="nx">insertRowBefore</span><span class="o">:</span>     <span class="p">[</span><span class="s1">&#39;Insert Table Row&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert a table row before the cursor&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">insertRowAfter</span><span class="o">:</span>      <span class="p">[</span><span class="s1">&#39;Insert Table Row&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert a table row after the cursor&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">deleteRow</span><span class="o">:</span>           <span class="p">[</span><span class="s1">&#39;Delete Table Row&#39;</span><span class="p">,</span> <span class="s1">&#39;Delete this table row&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">insertColumnBefore</span><span class="o">:</span>  <span class="p">[</span><span class="s1">&#39;Insert Table Column&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert a table column before the cursor&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">insertColumnAfter</span><span class="o">:</span>   <span class="p">[</span><span class="s1">&#39;Insert Table Column&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert a table column after the cursor&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">deleteColumn</span><span class="o">:</span>        <span class="p">[</span><span class="s1">&#39;Delete Table Column&#39;</span><span class="p">,</span> <span class="s1">&#39;Delete this table column&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">sep1</span><span class="o">:</span>                <span class="s1">&#39; &#39;</span><span class="p">,</span>
          <span class="nx">increaseColspan</span><span class="o">:</span>     <span class="p">[</span><span class="s1">&#39;Increase Cell Columns&#39;</span><span class="p">,</span> <span class="s1">&#39;Increase the cells colspan&#39;</span><span class="p">],</span>
          <span class="nx">decreaseColspan</span><span class="o">:</span>     <span class="p">[</span><span class="s1">&#39;Decrease Cell Columns&#39;</span><span class="p">,</span> <span class="s1">&#39;Decrease the cells colspan and add a new cell&#39;</span><span class="p">],</span>
          <span class="nx">increaseRowspan</span><span class="o">:</span>     <span class="p">[</span><span class="s1">&#39;Increase Cell Rows&#39;</span><span class="p">,</span> <span class="s1">&#39;Increase the cells rowspan&#39;</span><span class="p">],</span>
          <span class="nx">decreaseRowspan</span><span class="o">:</span>     <span class="p">[</span><span class="s1">&#39;Decrease Cell Rows&#39;</span><span class="p">,</span> <span class="s1">&#39;Decrease the cells rowspan and add a new cell&#39;</span><span class="p">],</span>
          <span class="nx">sep2</span><span class="o">:</span>                <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">rules</span><span class="o">:</span>                 <span class="p">{</span>
          <span class="nx">horizontalRule</span><span class="o">:</span>      <span class="p">[</span><span class="s1">&#39;Horizontal Rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Insert a horizontal rule&#39;</span><span class="p">],</span>
          <span class="nx">sep1</span><span class="o">:</span>                <span class="s1">&#39;-&#39;</span>
          <span class="p">},</span>
        <span class="nx">formatting</span><span class="o">:</span>            <span class="p">{</span>
          <span class="nx">removeFormatting</span><span class="o">:</span>    <span class="p">[</span><span class="s1">&#39;Remove Formatting&#39;</span><span class="p">,</span> <span class="s1">&#39;Remove formatting for the selection&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}],</span>
          <span class="nx">sep2</span><span class="o">:</span>                <span class="s1">&#39; &#39;</span>
          <span class="p">},</span>
        <span class="nx">editors</span><span class="o">:</span>               <span class="p">{</span>
          <span class="nx">htmlEditor</span><span class="o">:</span>          <span class="p">[</span><span class="s1">&#39;Edit HTML&#39;</span><span class="p">,</span> <span class="s1">&#39;Edit the HTML content&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regions</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;editable&#39;</span><span class="p">]</span> <span class="p">}]</span>
          <span class="p">}</span>
        <span class="p">},</span>
      <span class="nx">snippetable</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">_custom</span><span class="o">:</span>               <span class="kc">true</span><span class="p">,</span>
        <span class="nx">actions</span><span class="o">:</span>               <span class="p">{</span>
          <span class="nx">editSnippet</span><span class="o">:</span>         <span class="p">[</span><span class="s1">&#39;Edit Snippet Settings&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">],</span>
          <span class="nx">sep1</span><span class="o">:</span>                <span class="s1">&#39; &#39;</span><span class="p">,</span>
          <span class="nx">removeSnippet</span><span class="o">:</span>       <span class="p">[</span><span class="s1">&#39;Remove Snippet&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-Behaviors'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Behaviors">&#182;</a>
        </div>
        <h2>Behaviors</h2>

<p>Behaviors are used to change the default behaviors of a given region type when a given button is clicked.  For
example, you may prefer to add HR tags using an HR wrapped within a div with a classname (for styling).  You
can add your own complex behaviors here.</p>

<p>You can see how the behavior matches up directly with the button name.  It&rsquo;s also important to note that the
callback functions are executed within the scope of the given region, so you have access to all it&rsquo;s methods.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">behaviors</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">horizontalRule</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selection</span><span class="p">)</span> <span class="p">{</span> <span class="nx">selection</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;&lt;hr/&gt;&#39;</span><span class="p">)</span> <span class="p">},</span>
      <span class="nx">htmlEditor</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">Mercury</span><span class="p">.</span><span class="nx">modal</span><span class="p">(</span><span class="s1">&#39;/mercury/modals/htmleditor.html&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;HTML Editor&#39;</span><span class="p">,</span> <span class="nx">fullHeight</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">handler</span><span class="o">:</span> <span class="s1">&#39;htmlEditor&#39;</span> <span class="p">})</span> <span class="p">}</span>
      <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-Contexts'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Contexts">&#182;</a>
        </div>
        <h2>Contexts</h2>

<p>Contexts are used callback functions used for highlighting and disabling/enabling buttons and buttongroups.
When the cursor enters an element within an html region for instance we want to disable or highlight buttons
based on the properties of the given node.  You can see some examples of contexts in:</p>

<p>Mercury.Toolbar.Button.contexts
and
Mercury.Toolbar.ButtonGroup.contexts</p>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-Styles'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Styles">&#182;</a>
        </div>
        <h2>Styles</h2>

<p>Mercury tries to stay as much out of your code as possible, but because regions appear within your document we
need to include a few styles to indicate regions, as well as the different states of them (eg. focused).  These
styles are injected into your document, and as simple as they might be, you may want to change them.  You can do
so here.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="nx">injectedStyles</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span>
      <span class="s1">&#39;.mercury-region, .mercury-textarea { min-height: 10px; outline: 1px dotted #09F }&#39;</span> <span class="o">+</span>
      <span class="s1">&#39;.mercury-textarea { box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; resize: vertical; }&#39;</span> <span class="o">+</span>
      <span class="s1">&#39;.mercury-region:focus, .mercury-region.focus, .mercury-textarea.focus { outline: none; -webkit-box-shadow: 0 0 10px #09F, 0 0 1px #045; box-shadow: 0 0 10px #09F, 0 0 1px #045 }&#39;</span> <span class="o">+</span>
      <span class="s1">&#39;.mercury-region:after { content: &quot;.&quot;; display: block; visibility: hidden; clear: both; height: 0; overflow: hidden; }&#39;</span> <span class="o">+</span>
      <span class="s1">&#39;.mercury-region table, .mercury-region td, .mercury-region th { border: 1px dotted red; }&#39;</span>
  <span class="p">},</span></pre></div>
      </td>
    </tr>
    <tr id='section-Silent_Mode'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Silent_Mode">&#182;</a>
        </div>
        <h2>Silent Mode</h2>

<p>Turning silent mode on will disable asking about unsaved changes before leaving the page.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">silent</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span></pre></div>
      </td>
    </tr>
    <tr id='section-Debug_Mode'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-Debug_Mode">&#182;</a>
        </div>
        <h2>Debug Mode</h2>

<p>Turning debug mode on will log events and other various things (using console.debug if available).</p>

      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="nx">debug</span><span class="o">:</span> <span class="kc">true</span>

<span class="p">};</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">window</span><span class="p">.</span><span class="nx">Mercury</span><span class="p">)</span> <span class="nb">window</span><span class="p">.</span><span class="nx">Mercury</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">MercurySetup</span><span class="p">;</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">)</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">Mercury</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">MercurySetup</span><span class="p">);</span></pre></div>
      </td>
    </tr>
  </table>

  <div id="footer">
    <hr>
    Copyright 2011 Jeremy Jackson. All rights reserved.
  </div>

</body>
</html>


