/*!
The Text region is a simple multiline textarea region. It's up to you to put <br> tags in as line breaks if you want
them when you render the content.
*/
(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Mercury.Region.Text=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.define("Mercury.Region.Text","text"),n.include(Mercury.Region.Modules.FocusableTextarea),n.supported=!0,n.prototype.value=function(e){var t,n;e==null&&(e=null);if(e===null||typeof e=="undefined")return this.config("regions:text:stripTags")?this.sanitizedValue():this.$focusable.val();this.config("regions:text:stripTags")?this.$focusable.val($("<div>").html(((t=e.val)!=null?t:e).replace(/<br\/?>/g,"\n").trim()).text()):this.$focusable.val((n=e.val)!=null?n:e);if(e.sel)return this.setSerializedSelection(e.sel)},n.prototype.sanitizedValue=function(){var e;return e=$("<div>").html(this.$focusable.val().trim().replace(/\n/g,"<span>[!!!br!!!]</span>")),e.text().replace(/\[!!!br!!!\]/g,"<br>")},n}(Mercury.Region)}).call(this);